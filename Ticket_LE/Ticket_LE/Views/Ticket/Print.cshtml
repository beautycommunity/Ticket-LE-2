@using Ticket_LE.Models
@model Ticket_LE.Models.TicketModels

@*@model IEnumerable<MVC_Ticket.Models.TicketDetail>*@


@{
    ViewBag.Title = "Ticket Detail";
    Layout = "~/Views/Shared/_Print.cshtml";


}

<style>
    #form_rating {
        width: 250px;
        margin: 10px auto;
        padding: 10px;
        border: 1px solid #d9d9d9;
    }

        #form_rating p,
        #form_rating input[type="submit"] {
            text-align: center;
            font-size: 20px;
        }

    /*#wrapper form input[type="submit"] {
        border: 1px solid #d9d9d9;
        background-color: #efefef;
    }*/

    input[type="radio"] {
        display: none;
    }

    .clasificacion {
        direction: rtl;
        unicode-bidi: bidi-override;
    }

    label:hover,
    label:hover ~ label {
        color: orange;
    }

    input[type="radio"]:checked ~ label {
        color: orange;
    }

    .rating-stars {
        font-size: 1.5em;
        color: #E3E3E3;
        margin-bottom: .5em;
    }

        .rating-stars .active {
            color: #737373;
        }
</style>
<link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">

<style>

    table {
        width: 100%;
        border: 1px solid gray;
        border-radius: 10px;
        /*-vebket-border-radius: 20px;*/
        -moz-border-radius: 20px;
        border-radius: 20px
    }

    th {
        padding-top: 10px;
        padding-bottom: 10px;
    }

    td {
        padding-bottom: 10px;
    }
</style>

<br />

@*<a href="@Url.Action("Index")" class="btn btn-default">กลับหน้าหลัก</a>*@
<br />
<div class="row">
    <div class="col-md-12">
        <img src="http://www.beautycommunity.co.th/images/logo.png" alt="Company logo" width="600px" />
    </div>
</div>
    <hr />

    <div class="col-md-12">
        <div id="group" class="well well-lg">
            <center>@Html.Label("แบบฟอร์มขอเอกสารสำคัญของบริษัท บิวตี้ คอมมูนิตี้ จำกัด (มหาชน)", new { @class = "col-md control-label" })</center>
            <hr />
            <div class="row">

                <div class="col-md-5">
                    @Html.LabelFor(m => Model.TicketSub.TICKETNO, new { @class = "col-md control-label" })
                    @Html.DisplayFor(m => Model.TicketSub.TICKETNO, new { @class = "form-control" })
                    <br />
                    @Html.Label("ชื่อ-นามสกุล", new { @class = "col-md control-label" })
                    @ViewBag.FULLNAME
                </div>

                <div class="col-md-5">
                    @Html.LabelFor(m => Model.TicketSub.CREATEDATE, new { @class = "col-md control-label" })
                    @Html.DisplayFor(m => Model.TicketSub.CREATEDATE, new { @class = "form-control" })
                    @Html.DisplayFor(m => Model.TicketSub.CREATETIME, new { @class = "form-control" })
                    <br />
                    @Html.Label("แผนก", new { @class = "col-md control-label" })
                    @ViewBag.DPNAME
                </div>

                <div class="col-md-2">

                </div>

            </div>
            <hr />
            <div class="row">
                <div class="col-md-3">
                    @*@Html.LabelFor(m => Model.Deteil[0].Doc, new { @class = "col-md control-label" })*@
                </div>
                <div class="col-md-3">
                </div>
                <div class="col-md-3">

                </div>
                <div class="col-md-3">

                </div>
            </div>
            @Html.LabelFor(m => Model.Detail[0].Doc, new { @class = "col-md control-label" })

            @for (int i = 0; i < Model.Detail.Count(); i++)
            {
            <div class="row">
            <div class="col-md-6">
                -
                @Html.DisplayFor(m => Model.Detail[i].Doc, new { @class = "form-control", @readonly = "readonly" })
            @if (Model.Detail[i].Type == "2")
            {
            @Html.TextBoxFor(m => Model.Detail[i].NAME, new { @class = "form-control", @readonly = "readonly" })
            }
            </div>
            <div class="col-md-6">

            </div>
            </div>

            }
            <hr />
            <section id=m.TICKETNO>

                <div class="row">

                    <div class="col-md-7" style="word-wrap:break-word;">
                        @Html.LabelFor(m => Model.TicketSub.DETAIL, new { @class = "col-md control-label" })
                        <br />
                        @Html.DisplayFor(m => Model.TicketSub.DETAIL, new { @class = "form-control" })

                    </div>


                    <div class="col-md-1">



                    </div>
                    <div class="col-md-1">



                    </div>


                    <div class="col-md-1">
                        <br />

                    </div>
                    <div class="col-md-1">

                    </div>
                </div>
                <div class="row" style="text-align:right">
                    <div class="col-md-12">
                        <table>
                            <tr>
                                <th><center>ผู้ขอเอกสาร @Model.TicketSub.NAME_OPEN </center></th>
                                @if (Model.TicketSub.NAME_RECEIVE == null)
                                {
                                    <th><center> ผู้ส่งเอกสาร ................................ </center></th>
                                }
                                else
                                {
                                    <th><center> ผู้ส่งเอกสาร @Model.TicketSub.NAME_RECEIVE </center></th>
                                }
                            </tr>
                            <tr>
                                <td><center>( @Model.TicketSub.DATE_OPEN )</center></td>
                                <td><center>( @Model.TicketSub.DATE_RECEIVE )</center></td>
                            </tr>
                            <br />
                            <tr>
                                @if (Model.TicketSub.NAME_HDEP == null)
                                {
                                    <th><center> ผู้อนุมัติขอเอกสาร ................................ </center></th>
                                }
                                else
                                {
                                    <th><center>ผู้อนุมัติขอเอกสาร @Model.TicketSub.NAME_HDEP</center></th>
                                }

                                @if (Model.TicketSub.NAME_CLOSE == null)
                                {
                                    <th><center> ผู้อนุมัติส่งเอกสาร ................................ </center></th>
                                }
                                else
                                {
                                    <th><center> ผู้อนุมัติส่งเอกสาร @Model.TicketSub.NAME_CLOSE</center></th>
                                }
                            </tr>
                            <tr>
                                <td><center>( @Model.TicketSub.DATE_HDEP )</center></td>
                                <td><center>( @Model.TicketSub.DATE_CLOSE )</center></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <br />

            </section>
        </div>
    </div>
</div>



@section Scripts {

    <script type="text/javascript">
        $(window).on('load', function () {
            window.print();
            var lnk = '@Url.Action("TicketDetail", "Ticket", new { TicketId = ViewBag.TicNo })';
                //var dvno = data.getValue(chart.getSelection()[0]['row'], 1);
                //var devLink = lnk;
            window.location = lnk;
        });
    </script>

    @Scripts.Render("~/bundles/jqueryval")
}
